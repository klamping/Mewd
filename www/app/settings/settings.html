<ion-header-bar class="bar-positive">
    <div class="buttons">
        <button class="button button-assertive" ng-click="deleteAccount()" ng-if="user.email">Delete Account</button>
    </div>
    <h1 class="title">Settings</h1>
</ion-header-bar>
<ion-content has-tabs="true" class="padding">

    <div class="card" ng-if="errMsg.length > 0">
        <div class="item item-text-wrap assertive">
            {{ errMsg }}
        </div>
    </div>

    <button class="button button-light button-block" ng-show="user.email" ng-click="openPopover($event)">Change Password</button>

    <script id="changePassword.html" type="text/ng-template">
        <ion-popover-view>
            <ion-header-bar>
                <h1 class="title">Change Password</h1>
            </ion-header-bar>
            <ion-content>
                <form name="passwordChange">
                    <div class="list">
                        <label class="item item-input item-stacked-label">
                            <span class="input-label">Old Password</span>
                            <input type="password" ng-model="oldPw" placeholder="Type Old Password" required="true">
                        </label>
                        <label class="item item-input item-stacked-label">
                            <span class="input-label">New Password</span>
                            <input type="password" ng-model="newPw" placeholder="Type New Password" required="true">
                        </label>
                    </div>

                    <button class="button button-positive button-full button-outline" ng-click="changePassword(oldPw, newPw)" ng-disabled="passwordChange.$invalid">Submit Password Change</button>
                </form>
            </ion-content>
        </ion-popover-view>
    </script>

    <button class="button button-light button-block" ng-click="logout()">Logout</button>

    <button class="button button-light button-block" ui-sref="privacy">Review Privacy Policy</button>

    <hr>

    <h2 class="section title">Reminders</h2>

    <ion-item ng-repeat="reminder in reminders | orderBy:toString" ng-if="reminders.length > 0">
        {{ reminder | date:'shortTime' }}
        <span class="item-note">
            <button class="button button-assertive button-small" ng-click="deleteReminder(reminder)">Delete</button>
            <!-- {{ reminder.repeat | date:'short' }} -->
        </span>
    </ion-item>

    <p ng-if="reminders.length === 0" class="assertive">
        No Reminders Currently Set
    </p>

    <h3 class="section title sm">Create a New Reminder</h3>

    <div class="list">
        <ion-checkbox ng-model="reminder.silent">Quiet Notification?</ion-checkbox>

        <div class="item item-divider">
            Reminder Time
        </div>

        <div class="item item-button-right">
            {{ reminder.time | date:'shortTime' }}
            <button class="button button-positive" ng-click="selectTime()"><i class="icon ion-ios7-time-outline"></i></button>
        </div>

        <div class="item item-divider">
            Repeat Interval
        </div>

        <ion-radio ng-repeat="frequency in frequencies"
                   ng-value="frequency.value"
                   ng-model="reminder.repeat">
            {{ frequency.text }}
        </ion-radio>
    </label>

    <!-- Set Quiet Hours -->
    <!-- Set Number of Reminders per day -->

    <button ng-click="addReminder()" class="button button-block button-balanced">Add New Reminder</button>
</ion-content>

<!-- <ion-side-menus>
    <ion-side-menu side="left">
        <ion-side-menu-content ng-controller="RemindersCtrl">
            HERE
            <ion-list
            show-delete="showDelete">
                <ion-item ng-repeat="reminder in reminders | orderBy:'time':true">
                    <ion-delete-button class="ion-minus-circled" ng-click="deleteReminder(reminder)"></ion-delete-button>
                    {{ reminder }}
                    <span class="item-note">
                        {{ reminder.time | date:'short' }}
                        {{ reminder.repeat | date:'short' }}
                    </span>
                </ion-item>
            </ion-list>
        </ion-side-menu-content>
    </ion-side-menu>
</ion-side-menus> -->